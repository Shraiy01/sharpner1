<!DOCTYPE html>
<html lang="en">
<head>
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</head>
<body>
    <div class="container card card-body">
        <form class="form-check-inline m-4" id="form" >
            <label class="font-monospace">Name:</label>
            <input type="text" name="" class="form-control" id="uName">
            <label class="font-monospace">Email:</label>
            <input type="email" class="form-control" id="Email">
            <label class="font-monospace">Phone:</label>
            <input type="number" class="form-control"  id="num">
            <button class="btn btn-dark m-2" type="submit">Submit</button>
        </form>

        <h2>Stored Data</h2>
        <ul id="list"></ul>
    </div>
    <script>
        var form=document.getElementById('form')
     
        var itemdata=document.getElementById('list');
        
        itemdata.addEventListener('click',removeList);


        function displaylist(obj)
         {
            
             
            var li=document.createElement('li');
            li.className='list-group-item';
            
            li.appendChild(document.createTextNode(JSON.stringify(obj)));

            var btn =document.createElement('button');
            btn.className='btn btn-danger btn-sm delete';
            var text=document.createTextNode('Delete');
            btn.appendChild(text);
            li.appendChild(btn);
            
            console.log(li)
            
            itemdata.appendChild(li);

         }
         
       

        

         function removeList(e)
         {

            if(e.target.classList.contains('delete'))
            {
               if(confirm('Are you sure??'))
               {
                  var get=e.target.parentElement;
                  get.remove();
                  localStorage.removeItem('data');
               }

            }
         }


         function addtolocalstorage(my_obj)

         {
            
            const existingData = JSON.parse(localStorage.getItem("data")) || [];
           existingData.push(my_obj);
           localStorage.setItem("data",JSON.stringify(existingData))
         }


         form.addEventListener('submit',submit);

         
         function submit(e)
         {
            e.preventDefault();
           
            var userName=document.getElementById('uName');
            var email=document.getElementById('Email');

            var phone=document.getElementById('num');
         
            let my_obj={
                name:userName.value,
                email:email.value,
                phone:phone.value
             }
            
             addtolocalstorage(my_obj)

             displaylist(my_obj)

             userName.value="";
             email.value="";
             phone.value="";

           
         }
         
         
      


    </script>
</body>
</html>